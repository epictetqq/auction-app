<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; text-align: center; background: #1c1c1c; color: white; padding: 20px; }
        .btn { padding: 15px 25px; background: #0088cc; color: white; border: none; border-radius: 10px; font-size: 18px; cursor: pointer; }
        .history { margin-top: 20px; text-align: left; background: #2b2b2b; padding: 10px; border-radius: 8px; }
        .bid-item { border-bottom: 1px solid #444; padding: 5px 0; }
    </style>
</head>
<body>
    <h2 id="price">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
    <p id="status_text">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ–¥–Ω—è—Ç—å —Å—Ç–∞–≤–∫—É</p>
    
    <button id="bid_btn" class="btn">–ü–æ–¥–Ω—è—Ç—å —Å—Ç–∞–≤–∫—É üöÄ</button>

    <div class="history">
        <strong>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞–≤–∫–∏:</strong>
        <div id="history_list">
            <p style="color: #888;">–û–±–Ω–æ–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ —Å—Ç–∞–≤–∫–∏...</p>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        
        // –û—à–∏–±–∫–∞ "—á–µ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞" —á–∞—Å—Ç–æ –ª–µ—á–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
        tg.ready();
        tg.expand();

        const auctionId = tg.initDataUnsafe.start_param;
        const priceEl = document.getElementById('price');
        const bidBtn = document.getElementById('bid_btn');

        if (auctionId) {
            priceEl.innerText = "–ê—É–∫—Ü–∏–æ–Ω ‚Ññ" + auctionId;
        } else {
            priceEl.innerText = "ID –Ω–µ –Ω–∞–π–¥–µ–Ω";
            document.getElementById('status_text').innerText = "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ –∫–∞–Ω–∞–ª–∞";
        }

        bidBtn.addEventListener('click', function() {
    if (!auctionId) return;

    // –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –±–æ—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
    // –≠—Ç–æ –∑–∞—Å—Ç–∞–≤–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–π—Ç–∏ –≤ –±–æ—Ç–∞, –∞ –±–æ—Ç –ø–æ–ª—É—á–∏—Ç –∫–æ–º–∞–Ω–¥—É /start bid_ID
    const botUsername = "–í–ê–®_–Æ–ó–ï–†–ù–ï–ô–ú_–ë–û–¢–ê"; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —é–∑–µ—Ä–Ω–µ–π–º –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –±–µ–∑ @
    const returnUrl = `https://t.me/${botUsername}?start=bid_${auctionId}`;
    
    // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É
    tg.openTelegramLink(returnUrl);
    tg.close(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º Mini App
});
    </script>
</body>
</html>

